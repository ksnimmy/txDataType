!function(){"use strict";angular.module("txDataType",[])}(),function(){"use strict";function e(e,t,a){function r(e,t,a,r){function n(e){if(e){var t=e.replace(/[^0-9]/g,"");return t!==e&&(r.$setViewValue(t),r.$render()),a.txMaxValue&&parseInt(t,10)>parseInt(a.txMaxValue,10)&&(t=t.substring(0,t.length-1),r.$setViewValue(t),r.$render()),t}}function i(e){if(a.txDecimalPoint||(a.txDecimalPoint=2),e){var t=e.replace(/[^0-9.]/g,""),n=t.match(/^[^.]*\.|[^.]+/g);t=n?n.join(""):t;var i=t.split(".");if(i[1]){var s=i[1].slice(0,a.txDecimalPoint);t=[i[0],s].join(".")}return t!==e&&(r.$setViewValue(t),r.$render()),a.txMaxValue&&parseFloat(t,10)>parseFloat(a.txMaxValue,10)&&(t=t.substring(0,t.length-1),t=t.replace(/[^0-9]/g,""),r.$setViewValue(t),r.$render()),a.txMaxValue&&parseFloat(t,10)===parseFloat(a.txMaxValue,10)&&(t=t.replace(/[^0-9]/g,""),r.$setViewValue(t),r.$render()),t}}function s(e){if(e){var t=e.replace(/[^0-9:]/g,""),a=t.match(/^[^:]*\:|[^:]+/g);t=a?a.join(""):t;var n=t.split(":");if(n[0]){var i=/^([0-1]?[0-9]|2[0-3])?$/.test(n[0]);i||(t=""),n[1]&&(n[1].length>2&&(n[1]=n[1].slice(0,2),t=[n[0],":",n[1]].join("")),t=u(t,n[0],n[1]),1===n[1].length&&n[1]>5&&(n[1]=[n[1],"0"].join(""),t=u(t,n[0],n[1])))}else t="00:";return t!==e&&(r.$setViewValue(t),r.$render()),t}}function u(e,t,a){var r=/^([0-5]?[0-9])$/.test(a);return r||(e=[t,":"].join("")),e}"integer"===a.txDataType?r.$parsers.push(n):"decimal"===a.txDataType?r.$parsers.push(i):"time"===a.txDataType?r.$parsers.push(s):"string"===a.txDataType?a.txMaxLength&&r.$parsers.push(function(e){return e.length>a.txMaxLength&&(e=e.substr(0,a.txMaxLength),r.$setViewValue(e),r.$render()),e}):a.txMaxLength&&r.$parsers.push(function(e){return e.length>a.txMaxLength&&(e=e.substr(0,a.txMaxLength),r.$setViewValue(e),r.$render()),e}),t.bind("blur",function(){if("time"===a.txDataType){var e=r.$viewValue;if(e){var t=e.split(":");!t[1]&&t[0]?(e+=":00",r.$setViewValue(e),r.$render()):t[0]&&t[1]&&1===t[1].length&&(e+="0",r.$setViewValue(e),r.$render())}}})}var n={restrict:"EA",require:"ngModel",link:r};return n}angular.module("txDataType").directive("txDataType",e),e.$inject=["$filter","$timeout","$rootScope"]}();